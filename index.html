<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MateTap ULTRA ðŸ§‰</title>

<style>
body{
  margin:0;
  background:radial-gradient(circle at center,#0f172a,#020617);
  overflow:hidden;
  font-family:Arial;
  text-align:center;
  color:white;
}

#points{
  font-size:48px;
  margin-top:20px;
  text-shadow:0 0 20px #22c55e;
}

#mate{
  width:200px;
  margin-top:40px;
  cursor:pointer;
  transition:transform 0.1s;
}

#mate:active{
  transform:scale(1.2) rotate(-10deg);
}

.floating{
  position:absolute;
  color:#22c55e;
  font-weight:bold;
  animation:floatUp 1s forwards;
}

@keyframes floatUp{
  0%{opacity:1; transform:translateY(0);}
  100%{opacity:0; transform:translateY(-80px);}
}

canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:-1;
}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div id="points">0 ðŸ§‰</div>

<!-- MATE SVG EMBEBIDO -->
<svg id="mate" viewBox="0 0 200 250">
  <ellipse cx="100" cy="200" rx="60" ry="20" fill="#78350f"/>
  <path d="M40 60 Q100 0 160 60 L140 200 Q100 230 60 200 Z" fill="#a16207"/>
  <ellipse cx="100" cy="60" rx="60" ry="25" fill="#15803d"/>
  <rect x="130" y="0" width="10" height="80" fill="silver"/>
</svg>

<script>
let points=0;
const mate=document.getElementById("mate");
const pointsText=document.getElementById("points");

/* ðŸ”Š SONIDO GENERADO */
function playSound(type){
  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const osc=ctx.createOscillator();
  const gain=ctx.createGain();

  osc.connect(gain);
  gain.connect(ctx.destination);

  if(type==="click") osc.frequency.value=400;
  if(type==="power") osc.frequency.value=800;
  if(type==="badge") osc.frequency.value=1200;

  gain.gain.value=0.1;
  osc.start();
  osc.stop(ctx.currentTime+0.1);
}

/* âœ¨ PARTICULAS DE FONDO */
const canvas=document.getElementById("bg");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<120;i++){
  particles.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*3+1,
    dx:(Math.random()-0.5)*1,
    dy:(Math.random()-0.5)*1
  });
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle="rgba(34,197,94,0.5)";
    ctx.fill();
    p.x+=p.dx;
    p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
  });
  requestAnimationFrame(draw);
}
draw();

/* ðŸ§‰ CLICK EVENT */
mate.addEventListener("click",(e)=>{
  points++;
  pointsText.innerText=points+" ðŸ§‰";
  playSound("click");

  // puntos flotantes
  const plus=document.createElement("div");
  plus.className="floating";
  plus.innerText="+1";
  plus.style.left=e.pageX+"px";
  plus.style.top=e.pageY+"px";
  document.body.appendChild(plus);
  setTimeout(()=>plus.remove(),1000);

  // power cada 10
  if(points%10===0){
    playSound("power");
    document.body.style.background="radial-gradient(circle,#065f46,#020617)";
    setTimeout(()=>{
      document.body.style.background="radial-gradient(circle,#0f172a,#020617)";
    },300);
  }

  // badge cada 50
  if(points%50===0){
    playSound("badge");
    alert("ðŸ”¥ LOGRO DESBLOQUEADO ðŸ”¥");
  }
});
</script>

</body>
</html>
